//////////// Type Theory: Extensional MLTT /////////////
We have:
 * Empty type: ğŸ˜
 * Unit type: ğŸ™
 * Dependent product type: Î 
 * Dependent sum type: Î£
 * Equality type: (â‰¡) with reflection
 * Indexed quotient-inductive types
 * One universe (doesn't contain inductive types yet)

TODO:
 * inductive types in the universe
 * induction-induction
 * induction-recursion
 * co-inductive types
 * stronger universes


/////////////// Notes /////////////////

* Element relation is defined on types quotiented by the equivalence relation


//////////// Presentation /////////////

//Signature
Î£ ::= Îµ | Î£ (Î“ âŠ¦ Ï‡ : A) | Î£ (Î“ âŠ¦ Ï‡ â‰” a : A)

//Signature instance
eÌ„ ::= Â· | eÌ„ e | eÌ„ _

//Context
Î“, Î”, Î ::= Îµ | Î“ (x : A)

//Telescope
Î“, Î”, Î ::= Îµ | (x : A) Î“

//Signature morphism / meta-variable substitution
Ïƒ ::= Â· | Ïƒ, t | Ïƒâ‚€ âˆ˜ Ïƒâ‚ | â†‘ | id

//Context morphism / variable substitution
Ï„ ::= Â· | Ï„, t | Ï„â‚€ âˆ˜ Ï„â‚ | â†‘ | id | Ï„[Ïƒ]

//Inductive schema
ğ’¦ ::= Îµ | ğ’¦, â„“ : ğ’ | ğ’¦, ğ’â¼ | ğ’¦(Ïƒ)

//Inductive schema type
ğ’œ, ğ“‘ ::= Î  (x : A) ğ“‘ | ğ’³(eÌ„) | ğ’œ(Ïƒ)

//Inductive schema element
ğ“œ, ğ’© ::= Î»x.ğ“œ | ğ“œ e | Intro â„“ eÌ„ ğ’©Ì… | ğ“œ(Ïƒ) | x

//Inductive schema context
Ï´ ::= Îµ | Ï´ ğ’œ

//Inductive schema point-constructor
ğ’ ::= (Î, Î¾.Ï´, Î¾.IÌ…) | ğ’(Ïƒ)

//Inductive schema equality-constructor
ğ’â¼ ::= (Î, Î¾.Ï´, Î¾.IÌ…, Î¾.Î¸.ğ“œ, Î¾.Î¸.ğ’©) | ğ’(Ïƒ)

//Inductive schema elimination
ğ›† ::= Îµ | ğ›†, â„“ : Î¾.Î·.Ï.e

//Type
A, B, C, T ::= ğŸ˜ | ğŸ™ | ğ•Œ | (x : A) â†’ B | (x : A) â†’ B | (aâ‚€ â‰¡ aâ‚ âˆˆ A) | El(a) | Ind Î” ğ’¦ IÌ… | A(Ïƒ)

//Element
a, b, c, t, f, e ::= ğŸ˜-elim t
                   | ()
                   | ğŸ˜
                   | ğŸ™
                   | (x : a) â†’ b
                   | (x : a) â¨¯ b
                   | (aâ‚€ â‰¡ aâ‚ âˆˆ t)
                   | x â†¦ f
                   | (f : (x : A) â†’ B) e
                   | (a, b)
                   | (t : (x : A) â¨¯ B).Ï€â‚
                   | (t : (x : A) â¨¯ B).Ï€â‚‚
                   | Refl
                   | x
                   | Ï‡(eÌ„)
                   | Intro â„“ Î” ğ’¦ eÌ„â‚€ eÌ„â‚
                   | Elim Î” ğ’¦ Î´.h.A IÌ… t ğ›†
                   | t(Ïƒ)
                   | t[Ïƒ]

//Spine
eÌ„, tÌ„, IÌ… ::= Â· | eÌ„ e

//List
eÌ„, tÌ„, IÌ… ::= Â· | e eÌ„

// data â„• where
//   Z : â„•
//   (x : â„•) âŠ¦ S(x) : â„•
//
// data â„¤ where
//   (x : â„•) âŠ¦ -x : â„¤
//   (x : â„•) âŠ¦ +x : â„¤
//   -0 = +0 : â„¤
//
// inc : â„¤ â†’ â„¤
// inc (-0) = +1
// inc (-S(x)) = -x
// inc (+x) = +(S(x))
// inc (-0) = inc (+0) : â„¤
//    =          =
//    +1    =    +1
//
// (A : ğ•Œ) âŠ¦
//  data List where
//    [] : List
//    (x : A) (xs : List) âŠ¦ (x :: xs) : List
//
// (A : ğ•Œ) âŠ¦
//   data (n : â„•) âŠ¦ Vect where
//     [] : Vect 0
//     (n : â„•) (x : A) (xs : Vect n) âŠ¦ (x :: xs) : Vect S(n)
//
// (A : ğ•Œ) (aâ‚€ : A) âŠ¦
//   data (x : A) âŠ¦ Eq where
//     Refl : Eq aâ‚€
//
// A : ğ•Œ
// aâ‚€ : A
// (x : A) (h : Eq A aâ‚€ x) âŠ¦ C type
// r : C(aâ‚€, Refl)
// aâ‚ : A
// a : Eq A aâ‚€ aâ‚
// -------------------------------
// Eq-elim x.h.C r aâ‚ a : C(aâ‚, a)
// Eq-elim x.h.C r aâ‚€ Refl = r
//
// e : Eq A aâ‚€ aâ‚
// -----------------------------------------------
// Eq-elim (x.h. Eq A x aâ‚€) Refl aâ‚ e : Eq A aâ‚ aâ‚€
//
//
// (A : ğ•Œ) (R : A â†’ A â†’ ğ•Œ) âŠ¦
//   data A/R where
//     (x : A) âŠ¦ [x] : A/R
//     (x : A) (y : A) (r : El(R x y)) âŠ¦ [x] = [y] : A/R
//
// data â„•â‚‚ where
//  (x : â„•) âŠ¦ [x] : â„•â‚‚
//  (x : â„•) âŠ¦ [x] = [x + 2] : â„•â‚‚
//
// data â„•âˆ where
//   0 : â„•âˆ
//   (x : â„•) âŠ¦ S(x) : â„•âˆ
//   âˆ : â„•âˆ
//   S(âˆ) = âˆ : â„•âˆ
//
//(f : X â†’ A) (g : X â†’ B) âŠ¦
//  data Pushout where
//    (x : A) âŠ¦ Left(x) : Pushout
//    (y : B) âŠ¦ Right(y) : Pushout
//    (x : X) âŠ¦ Left (f x) = Right (g x) : Pushout
//
// Induction-induction required below
//
// data (n : â„•) âŠ¦ Even where
//    ZeroEven : Even 0
//    (o : Odd n) âŠ¦ Next : Even S(n)
//
// data (n : â„•) âŠ¦ Odd where
//    OneOdd : Odd 1
//    (e : Even n) âŠ¦ Next : Odd S(n)
//
// (A : ğ•Œ) âŠ¦
//    data Poset where
//      (x : A) âŠ¦ Inj(x) : Poset
//      (x y : Poset) (x â‰¤ y) (y â‰¤ x) âŠ¦ x = y : Poset
//    data (x : Poset) (y : Poset) âŠ¦ x â‰¤ y where
//      Refl : x â‰¤ x
//      (x y z : Poset) (p : x â‰¤ y) (q : y â‰¤ z) âŠ¦ p âˆ™ q : x â‰¤ z
//


/////// Judgement forms /////////

Î£ sig

Î£â‚€ sig
Î£â‚ sig
-----------
Ïƒ : Î£â‚€ â‡’ Î£â‚

eÌ„ : Î£

Î£ âŠ¦ Î“ ctx

Î£ âŠ¦ Î“ ctx
-------------
Î£ | Î“ âŠ¦ Î” tel

Î£ | Î“ âŠ¦ Î”â‚€ tel
Î£ | Î“ âŠ¦ Î”â‚ tel
-------------------
Î£ | Î“ âŠ¦ Î”â‚€ = Î”â‚ tel

Î£ âŠ¦ Î“ ctx
--------------
Î£ | Î“ âŠ¦ A type

Î£ | Î“ âŠ¦ Aâ‚€ type
Î£ | Î“ âŠ¦ Aâ‚ type
--------------------
Î£ | Î“ âŠ¦ Aâ‚€ = Aâ‚ type

Î£ | Î“ âŠ¦ A type
--------------
Î£ | Î“ âŠ¦ a : A

Î£ | Î“ âŠ¦ Î” tel
-------------
Î£ | Î“ âŠ¦ eÌ„ : Î”

Î£ | Î“ âŠ¦ aâ‚€ : A
Î£ | Î“ âŠ¦ aâ‚ : A
-------------------
Î£ | Î“ âŠ¦ aâ‚€ = aâ‚ : A

Î£ âŠ¦ Î“ ctx
Î£ âŠ¦ Î” ctx
-------------
Î£ âŠ¦ Ïƒ : Î“ â‡’ Î”

Î£ âŠ¦ Ïƒ : Î“ â‡’ Î”
Î£ âŠ¦ Ï„ : Î“ â‡’ Î”
-----------------
Î£ âŠ¦ Ïƒ = Ï„ : Î“ â‡’ Î”

Î£ | Î“ âŠ¦ Î” tel
-------------
Î£ | Î“ âŠ¦ Î” á… ğ’¦

Î£ | Î“ âŠ¦ Î” á… ğ’¦
---------------
Î£ | Î“ âŠ¦ Î” ğ’¦ á… ğ’

Î£ | Î“ âŠ¦ Î” á… ğ’¦
----------------
Î£ | Î“ âŠ¦ Î” ğ’¦ á… ğ’â¼

Î£ | Î“ âŠ¦ Î” tel
-------------------
Î£ | Î“ âŠ¦ Î” á… ğ’œ atype

Î£ | Î“ âŠ¦ Î” tel
------------------
Î£ | Î“ âŠ¦ Î” á… Ï´ actx

Î£ | Î“ âŠ¦ Î” á… ğ’œ
---------------------
Î£ | Î“ Ï´ âŠ¦ Î” ğ’¦ á… ğ“œ : ğ’œ

Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ âŠ¦ Î” á… Ï´' actx
----------------------
Î£ | Î“ Ï´ âŠ¦ Î” ğ’¦ á… ğ“œÌ… : Ï´'

Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ (Î´ : Î”) (h : Ind Î” ğ’¦ Î´) âŠ¦ C type
--------------------------------------
Î£ | Î“ âŠ¦ Î” á… ğ›† : ğ’¦ â‡€ Î´.h.C

Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ (Î´ : Î”) (h : Ind Î” ğ’¦ Î´) âŠ¦ C type
----------------------------------
Î£ | Î“ âŠ¦ Î” á… ğ›† : ğ’¦ â†’ Î´.h.C
       Defined as (Î” á… ğ›† : ğ’¦ â‡€ Î´.h.C) and |ğ›†| = |ğ’¦|

///////// Inference rules (sig) //////////

Îµ sig

Î£ sig
Î£ | Î“ âŠ¦ A type
-----------------
Î£ (Î“ âŠ¦ x : A) sig

Î£ sig
Î£ | Î“ âŠ¦ a : A
---------------------
Î£ (Î“ âŠ¦ x â‰” a : A) sig

///////// Inference rules (sig substitution) //////////

///////// Inference rules (sig instance) //////////

Â· : Îµ

eÌ„ : Î£
Îµ | Î“(eÌ„) âŠ¦ e : A(eÌ„)
-------------------
eÌ„ e : Î£ (Î“ âŠ¦ Ï‡ : A)

eÌ„ : Î£
-----------------------
eÌ„ _ : Î£ (Î“ âŠ¦ Ï‡ â‰” a : A)

///////// Inference rules (ctx) //////////

Î£ âŠ¦ Îµ ctx

Î£ âŠ¦ Î“ ctx
Î£ | Î“ âŠ¦ A type
-----------------
Î£ âŠ¦ Î“ (x : A) ctx

///////// Inference rules (tel) //////////

Î£ | Î“ âŠ¦ ctx
-------------
Î£ | Î“ âŠ¦ Îµ tel

Î£ | Î“ A âŠ¦ Î” tel
---------------------
Î£ | Î“ âŠ¦ (x : A) Î” tel

///////// Inference rules (type) //////////

Î£ | Î“ âŠ¦ ğŸ˜ type

Î£ | Î“ âŠ¦ ğŸ™ type

Î£ | Î“ âŠ¦ ğ•Œ type

Î£ | Î“ âŠ¦ a : ğ•Œ
------------------
Î£ | Î“ âŠ¦ El(a) type

Î£ | Î“ âŠ¦ A type
Î£ | Î“ (x : A) âŠ¦ B type
------------------------
Î£ | Î“ âŠ¦ (x : A) â†’ B type

Î£ | Î“ âŠ¦ A type
Î£ | Î“ (x : A) âŠ¦ B type
------------------------
Î£ | Î“ âŠ¦ (x : A) â¨¯ B type

Î£ | Î“ âŠ¦ aâ‚€ : A
Î£ | Î“ âŠ¦ aâ‚ : A
----------------------
Î£ | Î“ âŠ¦ (aâ‚€ â‰¡ aâ‚ âˆˆ A) type

Î£ | Î“ âŠ¦ A type
Î£ | Ïƒ : Î” â‡’ Î“
-----------------
Î£ | Î” âŠ¦ A(Ïƒ) type

Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ âŠ¦ IÌ… : Î”
----------------------
Î£ | Î“ âŠ¦ Ind Î” ğ’¦ IÌ… type

/////////// Inference rules (type equality) ////////////

Î£ | Î“ âŠ¦ ğŸ˜ = ğŸ˜ type

Î£ | Î“ âŠ¦ ğŸ™ = ğŸ™ type

Î£ | Î“ âŠ¦ ğ•Œ = ğ•Œ type

Î£ | Î“ âŠ¦ El(ğŸ˜) = ğŸ˜ type

Î£ | Î“ âŠ¦ El(ğŸ™) = ğŸ™ type

Î£ | Î“ âŠ¦ a : ğ•Œ
Î£ | Î“ (x : El(a)) âŠ¦ b : ğ•Œ
--------------------------------------------------
Î£ | Î“ âŠ¦ El((x : a) â†’ b) = (x : El(a)) â†’ El(b) type

Î£ | Î“ âŠ¦ a : ğ•Œ
Î£ | Î“ (x : El(a)) âŠ¦ b : ğ•Œ
--------------------------------------------------
Î£ | Î“ âŠ¦ El((x : a) â¨¯ b) = (x : El(a)) â¨¯ El(b) type

Î£ | Î“ âŠ¦ t : ğ•Œ
Î£ | Î“ âŠ¦ aâ‚€ : El(t)
Î£ | Î“ âŠ¦ aâ‚ : El(t)
------------------------------------------------
Î£ | Î“ âŠ¦ El(aâ‚€ â‰¡ aâ‚ âˆˆ t) = (aâ‚€ â‰¡ aâ‚ âˆˆ El(t)) type

Î£ | Î“ âŠ¦ Aâ‚€ = Aâ‚ type
Î£ | Î“ (x : Aâ‚€) âŠ¦ Bâ‚€ = Bâ‚ type
------------------------------------------
Î£ | Î“ âŠ¦ (x : Aâ‚€) â†’ Bâ‚€ = (x : Aâ‚) â†’ Bâ‚ type

Î£ | Î“ âŠ¦ Aâ‚€ = Aâ‚ type
Î£ | Î“ (x : Aâ‚€) âŠ¦ Bâ‚€ = Bâ‚ type
------------------------------------------
Î£ | Î“ âŠ¦ (x : Aâ‚€) â¨¯ Bâ‚€ = (x : Aâ‚) â¨¯ Bâ‚ type

Î£ | Î“ âŠ¦ A = B type
Î£ | Î“ âŠ¦ aâ‚€ = bâ‚€ : A
Î£ | Î“ âŠ¦ aâ‚ = bâ‚ : A
------------------------------------------
Î£ | Î“ âŠ¦ (aâ‚€ â‰¡ aâ‚ âˆˆ A) = (bâ‚€ â‰¡ bâ‚ âˆˆ B) type

Î£ âŠ¦ Ïƒ : Î” â‡’ Î“
---------------------
Î£ âŠ¦ Î” âŠ¦ ğŸ˜(Ïƒ) = ğŸ˜ type

Î£ âŠ¦ Ïƒ : Î” â‡’ Î“
---------------------
Î£ | Î” âŠ¦ ğŸ™(Ïƒ) = ğŸ™ type

Î£ âŠ¦ Ïƒ : Î” â‡’ Î“
--------------------------------------------------
Î£ | Î” âŠ¦ ((x : A) â†’ B)(Ïƒ) = (x : A(Ïƒ)) â†’ B(Ïƒâº) type

Î£ âŠ¦ Ïƒ : Î” â‡’ Î“
--------------------------------------------------
Î£ | Î” âŠ¦ ((x : A) â¨¯ B)(Ïƒ) = (x : A(Ïƒ)) â¨¯ B(Ïƒâº) type

Î£ âŠ¦ Ïƒ : Î” â‡’ Î“
------------------------------------------------------
Î£ | Î” âŠ¦ (aâ‚€ â‰¡ aâ‚ âˆˆ A)(Ïƒ) = (aâ‚€(Ïƒ) â‰¡ aâ‚(Ïƒ) âˆˆ A(Ïƒ)) type

Î£ âŠ¦ Ïƒ : Î” â‡’ Î“
Î£ âŠ¦ Ï„ : Î â‡’ Î”
-------------------------------
Î£ | Î âŠ¦ A(Ïƒ)(Ï„) = A(Ïƒ âˆ˜ Ï„) type

///////// Inference rules (elem) //////////

Î£ | Î“ âŠ¦ t : ğŸ˜
--------------------
Î£ | Î“ âŠ¦ ğŸ˜-elim t : A

Î£ | Î“ âŠ¦ () : ğŸ™

Î£ | Î“ âŠ¦ ğŸ˜ : ğ•Œ

Î£ | Î“ âŠ¦ ğŸ™ : ğ•Œ

Î£ | Î“ âŠ¦ a : ğ•Œ
Î£ | Î“ (x : El(a)) âŠ¦ b : ğ•Œ
-------------------------
Î£ | Î“ âŠ¦ (x : a) â†’ b : ğ•Œ

Î£ | Î“ âŠ¦ a : ğ•Œ
Î£ | Î“ (x : El(a)) âŠ¦ b : ğ•Œ
---------------------
Î£ | Î“ âŠ¦ (x : a) â¨¯ b : ğ•Œ

Î£ | Î“ âŠ¦ t : ğ•Œ
Î£ | Î“ âŠ¦ aâ‚€ : El(t)
Î£ | Î“ âŠ¦ aâ‚ : El(t)
-------------------------
Î£ | Î“ âŠ¦ (aâ‚€ â‰¡ aâ‚ âˆˆ t) : ğ•Œ

Î£ | Î“ (x : A) âŠ¦ f : B
---------------------------
Î£ | Î“ âŠ¦ x â†¦ f : (x : A) â†’ B

Î£ | Î“ âŠ¦ f : (x : A) â†’ B
Î£ | Î“ âŠ¦ e : A
--------------------------------------
Î£ | Î“ âŠ¦ (f : (x : A) â†’ B) e : B(e/x)

Î£ | Î“ (x : A) âŠ¦ B type
Î£ | Î“ âŠ¦ a : A
Î£ | Î“ âŠ¦ b : B(a/x)
----------------------------
Î£ | Î“ âŠ¦ (a, b) : (x : A) â¨¯ B

Î£ | Î“ âŠ¦ t : (x : A) â¨¯ B
--------------------------------
Î£ | Î“ âŠ¦ (t : (x : A) â¨¯ B).Ï€â‚ : A

Î£ | Î“ âŠ¦ t : Î£ A B
------------------------
Î£ | Î“ âŠ¦ t.Ï€â‚‚ : B(t.Ï€â‚/x)

Î£ | Î“ âŠ¦ aâ‚€ : A
Î£ | Î“ âŠ¦ aâ‚ : A
-----------------------
Î£ | Î“ âŠ¦ aâ‚€ â‰¡(A) aâ‚ type

Î£ | Î“ âŠ¦ a : A
--------------------------
Î£ | Î“ âŠ¦ Refl : (a â‰¡ a âˆˆ A)

aâ‚€ : A
(x : A) (p : x â‰¡ aâ‚€ âˆˆ A) âŠ¦ B type
r : B(aâ‚€, Refl)
aâ‚ : A
p : aâ‚€ â‰¡ aâ‚ âˆˆ A
------------------------------------
Î£ | Î“ âŠ¦ J aâ‚€ x.p.B r aâ‚ p : B(aâ‚, p)
        J aâ‚€ x.p.B r aâ‚€ Refl = r : B(aâ‚€, Refl)

aâ‚€ : A
(x : A) (p : x â‰¡ aâ‚€ âˆˆ A) âŠ¦ B type
(x : A) (p : x â‰¡ aâ‚€ âˆˆ A) âŠ¦ f : B
aâ‚ : A
p : aâ‚€ â‰¡ aâ‚ âˆˆ A
------------------------------------------------- //this rule (Î·-rule) makes type-theory extesional
f(aâ‚, p) = J aâ‚€ x.p.B f(aâ‚€, Refl) aâ‚ p : B(aâ‚, p)

//From this rule we can derive UIP and equality reflection

Î£ | Î“ (x : A) âŠ¦ x : A(â†‘)

Î£â‚€ (Î” âŠ¦ Ï‡ : A) Î£â‚ | Î“ âŠ¦ eÌ„ : Î”
-----------------------------------
Î£â‚€ (Î” âŠ¦ Ï‡ : A) Î£â‚ | Î“ âŠ¦ Ï‡(eÌ„) : A(eÌ„)

Î“ âŠ¦ t : A
Ïƒ : Î” â‡’ Î“
---------------
Î” âŠ¦ t(Ïƒ) : A(Ïƒ)

Î£â‚ | Î“ âŠ¦ t : A
Ïƒ : Î£â‚€ â‡’ Î£â‚
-----------------------
Î£â‚€ | Î“[Ïƒ] âŠ¦ t[Ïƒ] : A[Ïƒ]

Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ âŠ¦ ğ’¦[â„“] = (Î, Ï´, Î³.IÌ…)
Î£ | Î“ âŠ¦ eÌ„â‚€ : Î
Î£ | Î“ âŠ¦ eÌ„â‚ : â¦ƒÏ´â¦„(Î´. Ind Î” Î´)
-------------------------------------------
Î£ | Î“ âŠ¦ Intro â„“ Î” ğ’¦ eÌ„â‚€ eÌ„â‚ : Ind Î” ğ’¦ IÌ…(eÌ„â‚€/Î³)

Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ (Î´ : Î”) (h : Ind Î” ğ’¦ Î´) âŠ¦ C type
Î£ | Î“ âŠ¦ IÌ… : Î”
Î£ | Î“ âŠ¦ t : Ind Î” ğ’¦ IÌ…
Î£ | Î“ âŠ¦ Î” á… ğ›† : ğ’¦ â†’ Î´.h.C
------------------------------------------
Î£ | Î“ âŠ¦ Elim Î” ğ’¦ Î´.h.C IÌ… t ğ›† : C(IÌ…/Î´, t/h)

///////// Inference rules (elem equality) //////////

Î£ | Î“ âŠ¦ t : ğŸ™
------------------
Î£ | Î“ âŠ¦ t = () : ğŸ™

Î£ | Î“ (x : A) âŠ¦ f : B
Î£ | Î“ âŠ¦ e : A
---------------------------------------------------
Î£ | Î“ âŠ¦ ((x â†¦ f) : (x : A) â†’ B) e = f(e/x) : B(e/x)

Î£ | Î“ âŠ¦ f : (x : A) â†’ B
---------------------------------------------
Î£ | Î“ âŠ¦ x â†¦ (f : (x : A) â†’ B) x = f : (x : A) â†’ B

Î£ | Î“ (x : A) âŠ¦ B type
Î£ | Î“ âŠ¦ a : A
Î£ | Î“ âŠ¦ b : B(a/x)
-----------------------------------------
Î£ | Î“ âŠ¦ ((a, b) : (x : A) â¨¯ B).Ï€â‚ = a : A

Î£ | Î“ (x : A) âŠ¦ B type
Î£ | Î“ âŠ¦ a : A
Î£ | Î“ âŠ¦ b : B(id, a)
--------------------------------
Î£ | Î“ âŠ¦ (a, b).Ï€â‚‚ = b : B(id, a)

Î£ | Î“ âŠ¦ t : (x : A) â¨¯ B
----------------------------------------------------------------------
Î£ | Î“ âŠ¦ ((t : (x : A) â¨¯ B).Ï€â‚, (t : (x : A) â¨¯ B).Ï€â‚‚) = t : (x : A) â¨¯ B

Î£ | Î“ âŠ¦ A ctx
Î£ âŠ¦ Ïƒ : Î” â‡’ Î“
Î£ | Î” âŠ¦ t : A(Ïƒ)
---------------------------
Î£ | Î” âŠ¦ xâ‚€(Ïƒ, t) = t : A(Ïƒ)

Î£ | Î“ âŠ¦ xáµ¢ : B
-----------------------------
Î£ | Î“ A âŠ¦ xáµ¢(â†‘) = xáµ¢â‚Šâ‚ : B(â†‘)

Î£ âŠ¦ Ïƒ : Î” â‡’ Î“
Î£ âŠ¦ Ï„ : Î â‡’ Î”
Î£ | Î“ âŠ¦ A type
---------------------------------
Î£ | Î âŠ¦ t(Ïƒ)(Ï„) = t(Ïƒ âˆ˜ Ï„) : A(Ïƒ âˆ˜ Ï„)

Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ âŠ¦ ğ’¦[â„“] = (Î, Î¾.Ï´, Î¾.IÌ…, Î¾.Î¸.ğ“œâ‚€, Î¾.Î¸.ğ“œâ‚)
Î£ | Î“ âŠ¦ eÌ„ : Î
Î£ | Î“ âŠ¦ tÌ„ : Î” ğ’¦ á… â¦ƒÏ´(eÌ„)â¦„
--------------------------------------------------------------
Î£ | Î“ âŠ¦ Î” ğ’¦ á… â¦ƒÎ¸.ğ“œâ‚€(eÌ„)â¦„(tÌ„) = Î” ğ’¦ á… â¦ƒÎ¸.ğ“œâ‚(eÌ„)â¦„(tÌ„) : Ind Î” ğ’¦ IÌ…(eÌ„)

Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ (Î´ : Î”) (h : Ind Î” ğ’¦ Î´) âŠ¦ C type
Î£ | Î“ âŠ¦ IÌ… : Î”
Î£ | Î“ âŠ¦ ğ’¦[â„“] = (Î, Î¾.Ï´, Î¾.IÌ…â‚€)
Î£ | Î“ âŠ¦ eÌ„ : Î
Î£ | Î“ âŠ¦ tÌ„ : Î” ğ’¦ á… â¦ƒÏ´(eÌ„)â¦„
//By typing: Î“ âŠ¦ IÌ…â‚€(eÌ„) = IÌ… : Î”
//By typing: Î“ (Î¾ : Î) (Î· : Î” ğ’¦ á… â¦ƒÏ´â¦„) (Ï : Î” ğ’¦ á… â¦‡Ï´â¦ˆ(Î´.h.C, Î·)) âŠ¦ ğ›†[â„“] : C(IÌ…â‚€, Intro â„“ Î” ğ’¦ Î¾ Î·)
--------------------------------------------------------------------------------------------------------
Î£ | Î“ âŠ¦ Elim Î” ğ’¦ Î´.h.C IÌ… (Intro â„“ Î” ğ’¦ eÌ„ tÌ„) ğ›† = ğ›†[â„“](eÌ„, tÌ„, Î” ğ’¦ á… act(Î´.h.C, Ï´(eÌ„), tÌ„)) : C(IÌ…, Intro â„“ Î” ğ’¦ eÌ„ tÌ„)

///////// Inference rules (substitution) //////////

Î£ âŠ¦ Î“ ctx
-------------
Î£ âŠ¦ Â· : Î“ â‡’ Îµ

Î£ âŠ¦ Î“ ctx
--------------
Î£ âŠ¦ id : Î“ â‡’ Î“

Î£ âŠ¦ Î“ (x : A) ctx
---------------------
Î£ âŠ¦ â†‘ : Î“ (x : A) â‡’ Î“

Î£ âŠ¦ Ïƒ : Î” â‡’ Î“
Î£ âŠ¦ Ï„ : Î â‡’ Î”
-----------------
Î£ âŠ¦ Ïƒ âˆ˜ Ï„ : Î â‡’ Î“

Î£ âŠ¦ Ïƒ : Î” â‡’ Î“
Î£ âŠ¦ Î“ âŠ¦ A type
Î£ âŠ¦ Î” âŠ¦ t : A(Ïƒ)
------------------
Î£ âŠ¦ Ïƒ, t : Î” â‡’ Î“ A

///////// Inference rules (substitution equality) //////////

Î£ âŠ¦ Î“ ctx
Î£ âŠ¦ Ïƒ : Î“ â‡’ Îµ
-----------------
Î£ âŠ¦ Ïƒ = Â· : Î“ â‡’ Îµ

Î£ âŠ¦ Ïƒ : Î“ â‡’ Î”
------------------
Î£ âŠ¦ Ïƒ âˆ˜ id = Ïƒ : Î“ â‡’ Î”

Î£ âŠ¦ Ïƒ : Î“ â‡’ Î”
------------------
Î£ âŠ¦ id âˆ˜ Ïƒ = Ïƒ : Î“ â‡’ Î”

Î£ âŠ¦ Ïƒâ‚â‚€ : Î“â‚ â‡’ Î“â‚€
Î£ âŠ¦ Ïƒâ‚‚â‚ : Î“â‚‚ â‡’ Î“â‚
Î£ âŠ¦ Ïƒâ‚ƒâ‚‚ : Î“â‚ƒ â‡’ Î“â‚‚
-----------------------------------------------
Î£ âŠ¦ Ïƒâ‚â‚€ âˆ˜ (Ïƒâ‚‚â‚ âˆ˜ Ïƒâ‚ƒâ‚‚) = (Ïƒâ‚â‚€ âˆ˜ Ïƒâ‚‚â‚) âˆ˜ Ïƒâ‚ƒâ‚‚ : Î“â‚ƒ â‡’ Î“â‚€

Î£ âŠ¦ Ïƒ : Î” â‡’ Î“
Î£ âŠ¦ Î“ âŠ¦ A type
Î£ âŠ¦ Î” âŠ¦ t : A(Ïƒ)
----------------------
Î£ âŠ¦ â†‘ âˆ˜ (Ïƒ, t) = Ïƒ : Î” â‡’ Î“

Î£ âŠ¦ Ï„ : Î“â‚€ â‡’ Î“â‚
Î£ âŠ¦ Ïƒ : Î“â‚ â‡’ Î“â‚‚
Î£ âŠ¦ Î“â‚‚ âŠ¦ A type
Î£ âŠ¦ Î“â‚ âŠ¦ t : A(Ïƒ)
--------------------------------------
Î£ âŠ¦ (Ïƒ, t) âˆ˜ Ï„ = (Ïƒ âˆ˜ Ï„, t(Ï„)) : Î“â‚€ â‡’ Î“â‚‚ A

///////// Inference rules (inductive schema) //////////

Î£ | Î“ âŠ¦ Î” á… Îµ

Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ âŠ¦ Î” ğ’¦ á… ğ’
------------------
Î£ | Î“ âŠ¦ Î” á… (ğ’¦, â„“ : ğ’)

Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ âŠ¦ Î” ğ’¦ á… ğ’â¼
------------------
Î£ | Î“ âŠ¦ Î” á… (ğ’¦, â„“ : ğ’â¼)

///////// Inference rules (inductive point-constructor) //////////

Î£ | Î“ âŠ¦ Î tel
Î£ | Î“ Î âŠ¦ Î” á… Ï´
Î£ | Î“ Î âŠ¦ eÌ„ : Î”
-------------------
Î£ | Î“ âŠ¦ Î” ğ’¦ á… (Î, Ï´, eÌ„)

///////// Inference rules (inductive equality-constructor) //////////

Î£ | Î“ âŠ¦ Î tel
Î£ | Î“ Î âŠ¦ Î” á… Ï´ actx
Î£ | Î“ Î âŠ¦ eÌ„ : Î”
Î£ | Î“ Î Ï´ âŠ¦ Î” ğ’¦ á… ğ“œ : ğ’³(eÌ„)
Î£ | Î“ Î Ï´ âŠ¦ Î” ğ’¦ á… ğ’© : ğ’³(eÌ„)
------------------------------
Î£ | Î“ âŠ¦ Î” ğ’¦ á… (Î, Ï´, eÌ„, ğ“œ, ğ’©)

///////// Inference rules (actx) //////////

Î£ | Î“ âŠ¦ Î” á… Îµ actx

Î£ | Î“ âŠ¦ Î” á… Ï´ actx
Î£ | Î“ âŠ¦ Î” á… ğ’œ atype
------------------
Î£ | Î“ âŠ¦ Î” á… Ï´ ğ’œ actx

///////// Inference rules (atype) //////////

Î£ | Î“ âŠ¦ A type
Î£ | Î“ A âŠ¦ Î” á… ğ“‘ atype
---------------------
Î£ | Î“ âŠ¦ Î” á… Î  A ğ“‘ atype

Î£ | Î“ âŠ¦ eÌ„ : Î”
---------------------
Î£ | Î“ âŠ¦ Î” á… ğ’³(eÌ„) atype

///////// Inference rules (aelem) //////////


Î£ | Î“ A Ï´ âŠ¦ Î” ğ’¦ á… ğ“œ : ğ“‘
----------------------
Î£ | Î“ Ï´ âŠ¦ Î” ğ’¦ á… Î»ğ“œ : Î  A ğ“‘

Î£ | Î“ Ï´ âŠ¦ Î” ğ’¦ á… ğ“œ : Î  A ğ“‘
Î£ | Î“ âŠ¦ e : A
--------------------------
Î£ | Î“ Ï´ âŠ¦ Î” ğ’¦ á… ğ“œ e : ğ“‘(id, e)

Î£ | Î“ âŠ¦ ğ’¦[â„“] = (Î, Ï´', IÌ…)
Î£ | Î“ âŠ¦ eÌ„ : Î
Î£ | Î“ Ï´ âŠ¦ Î” ğ’¦ á… ğ’©Ì… : Ï´'
------------------------------------
Î£ | Î“ Ï´ âŠ¦ Î” ğ’¦ á… Intro â„“ eÌ„ ğ’©Ì… : ğ’³ IÌ…(id, eÌ„)

Î£ | Î“ Ï´ ğ’œ âŠ¦ Î” ğ’¦ á… xâ‚€ : ğ’œ

Î£ | Î“ Ï´ âŠ¦ Î” ğ’¦ á… xáµ¢ : ğ“‘
----------------------
Î£ | Î“ Ï´ ğ’œ âŠ¦ Î” ğ’¦ á… xáµ¢â‚Šâ‚ : ğ“‘

///////// Inference rules (elimination) //////////

Î£ | Î“ âŠ¦ Î” á… Îµ : ğ’¦ â‡€ Î´.h.C

Î£ | Î“ âŠ¦ Î” á… ğ›† : ğ’¦ â‡€ Î´.h.C
Î£ | Î“ âŠ¦ ğ’¦[â„“] = (Î, Î¾.Ï´, Î¾.IÌ…)
Î£ | Î“ (Î¾ : Î) (Î· : Î” ğ’¦ á… â¦ƒÏ´â¦„) (Ï : Î” ğ’¦ á… â¦‡Ï´â¦ˆ(Î´.h.C, Î·)) âŠ¦ e : C(IÌ…/Î´, Intro â„“ Î” ğ’¦ Î¾ Î·/h)
-----------------------------------------------------------------------------------
Î£ | Î“ âŠ¦ Î” á… ğ›†, â„“ : Î¾.Î·.Ï.e : ğ’¦ â‡€ Î´.h.C

Î£ | Î“ âŠ¦ Î” á… ğ›† : ğ’¦ â‡€ Î´.h.C
Î£ | Î“ âŠ¦ ğ’¦[â„“] = (Î, Î¾.Ï´, Î¾.IÌ…, Î¾.Î¸.ğ“œâ‚€, Î¾.Î¸.ğ“œâ‚)
Î£ | Î“ (Î¾ : Î) (Î· : Î” ğ’¦ á… â¦ƒÏ´â¦„) (Ï : Î” ğ’¦ á… â¦‡Ï´â¦ˆ(Î´.h.C, Î·)) âŠ¦
   (Î” ğ’¦ á… â¦‡Î¸.ğ“œâ‚€â¦ˆ(Î´.h.C, Î·, Ï, ğ›†)) = (Î” ğ’¦ á… â¦‡Î¸.ğ“œâ‚â¦ˆ(Î´.h.C, Î·, Ï, ğ›†)) : C(IÌ…, Î” ğ’¦ á… â¦ƒÎ¸.ğ“œâ‚€â¦„(Î·))
//Î£ | Î“ Î Ï´ âŠ¦ Î” ğ’¦ á… ğ“œâ‚€ : ğ’³(IÌ…)
//Î£ | Î” ğ’¦ á… â¦‡ğ’³(IÌ…)â¦ˆ(Î´.h.C, Î” ğ’¦ á… â¦ƒÎ¸.ğ“œâ‚€â¦„(Î·))
//     =
//    C(IÌ…, Î” ğ’¦ á… â¦ƒÎ¸.ğ“œâ‚€â¦„(Î·))
-----------------------------------------------------------------------
Î£ | Î“ âŠ¦ Î” á… ğ›†, â„“ : Î¾.Î·.Ï.e : ğ’¦ â‡€ Î´.h.C


///////// Interpretations //////////

Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ âŠ¦ Î” á… ğ’œ atype
-------------------------------------------
Î£ | Î“ âŠ¦ Î” ğ’¦ á… â¦ƒğ’œâ¦„ type
        Î” ğ’¦ á… â¦ƒÎ  (x : A) ğ“‘â¦„ = Î  (x : A) (Î” ğ’¦ á… â¦ƒğ“‘â¦„)
        Î” ğ’¦ á… â¦ƒğ’³(IÌ…)â¦„ = Ind Î” ğ’¦ IÌ…

Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ âŠ¦ Î” á… Ï´ ctx
-----------------
Î£ | Î“ âŠ¦ Î” ğ’¦ á… â¦ƒÏ´â¦„ tel
        Î” ğ’¦ á… â¦ƒÎµâ¦„ = Îµ
        Î” ğ’¦ á… â¦ƒÏ´ ğ’œâ¦„ = (Î” ğ’¦ á… â¦ƒÏ´â¦„) (Î” ğ’¦ á… â¦ƒğ’œâ¦„)

Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ âŠ¦ Î” á… ğ’œ atype
Î£ | Î“ Ï´ âŠ¦ Î” ğ’¦ á… ğ“œ : ğ’œ
Î£ | Î“ âŠ¦ eÌ„ : Î” ğ’¦ á… â¦ƒÏ´â¦„
------------------------------
Î£ | Î“ âŠ¦ Î” ğ’¦ á… â¦ƒÎ¸.ğ“œâ¦„(eÌ„) : Î” ğ’¦ á… â¦ƒğ’œâ¦„
        Î” ğ’¦ á… â¦ƒÎ¸. Î»x.fâ¦„(eÌ„) = Î»x. Î” ğ’¦ á… â¦ƒÎ¸.fâ¦„(eÌ„) : Î  (x : A) (Î” ğ’¦ á… â¦ƒğ“‘â¦„)
        Î” ğ’¦ á… â¦ƒÎ¸. ğ“œ eâ¦„(eÌ„) = (Î” ğ’¦ á… â¦ƒÎ¸. ğ“œâ¦„(eÌ„)) e : ğ“‘
        //ğ’¦[â„“] = (Î, Ï´', Î¾.IÌ…)
        Î” ğ’¦ á… â¦ƒÎ¸. Intro â„“ eÌ„â‚€ ğ’©Ì…â¦„(eÌ„) = Intro â„“ Î” ğ’¦ eÌ„â‚€ (Î” ğ’¦ á… â¦ƒÎ¸.ğ’©Ì…â¦„(eÌ„)) : Ind Î” ğ’¦ IÌ…(eÌ„â‚€/Î¾)
        //Ï´ = Ï´â‚€ ğ’œ Ï´â‚
        Î” ğ’¦ á… â¦ƒÎ¸. xáµ¢â¦„(eÌ„â‚€, eáµ¢, eÌ„â‚) = eáµ¢ : Î” ğ’¦ á… â¦ƒğ’œâ¦„

Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ âŠ¦ Î” á… Ï´' actx
Î£ | Î“ Ï´ âŠ¦ Î” ğ’¦ á… ğ’©Ì… : Ï´'
Î£ | Î“ âŠ¦ eÌ„ : Î” ğ’¦ á… â¦ƒÏ´â¦„
-------------------------------
Î£ | Î“ âŠ¦ Î” ğ’¦ á… â¦ƒÎ¸.ğ’©Ì…â¦„(eÌ„) : Î” ğ’¦ á… â¦ƒÏ´'â¦„
        Î” ğ’¦ á… â¦ƒÎ¸.Â·â¦„(eÌ„) : Îµ
        Î” ğ’¦ á… â¦ƒÎ¸.ğ’©Ì… ğ’©â¦„(eÌ„) = (Î” ğ’¦ á… â¦ƒÎ¸.ğ’©Ì…â¦„(eÌ„)) (Î” ğ’¦ á… â¦ƒÎ¸.ğ’©â¦„(eÌ„)) : (Î” ğ’¦ á… â¦ƒÏ´'â¦„) (Î” ğ’¦ á… â¦ƒğ’œâ¦„)


Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ âŠ¦ Î” á… ğ’œ atype
Î£ | Î“ (Î´ : Î”) (h : Ind Î” ğ’¦ Î´) âŠ¦ C type
Î£ | Î“ âŠ¦ e : Î” ğ’¦ á… â¦ƒğ’œâ¦„
----------------------------------
Î£ | Î“ âŠ¦ Î” ğ’¦ á… â¦‡ğ’œâ¦ˆ(Î´.h.C, e) type
        Î” ğ’¦ á… â¦‡ğ’³(eÌ„)â¦ˆ(Î´.h.C, e) = C(eÌ„/Î´, e)
        Î” ğ’¦ á… â¦‡Î  (x : A) ğ“‘â¦ˆ(Î´.h.C, e) = Î  (x : A) (Î” ğ’¦ á… â¦‡ğ“‘â¦ˆ(Î´.h.C, e x))

Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ âŠ¦ Î” á… Ï´ actx
Î£ | Î“ (Î´ : Î”) (h : Ind Î” ğ’¦ Î´) âŠ¦ C type
Î£ | Î“ âŠ¦ eÌ„ : Î” ğ’¦ á… â¦ƒÏ´â¦„
----------------------------------
Î£ | Î“ âŠ¦ Î” ğ’¦ á… â¦‡Ï´â¦ˆ(Î´.h.C, eÌ„) tel
        Î” ğ’¦ á… â¦‡Îµâ¦ˆ(Î´.h.C, eÌ„) = Îµ
        Î” ğ’¦ á… â¦‡Ï´ ğ’œâ¦ˆ(Î´.h.C, (eÌ„, e)) = (Î” ğ’¦ á… â¦‡Ï´â¦ˆ(Î´.h.C, eÌ„)) (Î” ğ’¦ á… â¦‡ğ’œâ¦ˆ(Î´.h.C, e))

Î£ | Î“ âŠ¦ Î” á… ğ’œ atype
Î£ | Î“ âŠ¦ Î” á… Ï´ actx
Î£ | Î“ Ï´ âŠ¦ Î” ğ’¦ á… ğ“œ : ğ’œ
Î£ | Î“ âŠ¦ eÌ„â‚€ : Î” ğ’¦ á… â¦ƒÏ´â¦„
Î£ | Î“ âŠ¦ eÌ„â‚ : Î” ğ’¦ á… â¦‡Ï´â¦ˆ(Î´.h.C, eÌ„â‚€)
Î£ | Î“ âŠ¦ ğ›† : ğ’¦ â†’ Î´.h.C
-------------------------------------------------------------------------------
Î£ | Î“ âŠ¦ Î” ğ’¦ á… â¦‡Î¸.ğ“œâ¦ˆ(Î´.h.C, eÌ„â‚€, eÌ„â‚, ğ›†) : Î” ğ’¦ á… â¦‡ğ’œâ¦ˆ(Î´.h.C, Î” ğ’¦ á… â¦ƒÎ¸.ğ“œâ¦„(eÌ„â‚€))
        //ğ’œ = Î  (x : A) ğ“‘
        Î” ğ’¦ á… â¦‡Î¸.Î»x.fâ¦ˆ(Î´.h.C, eÌ„â‚€, eÌ„â‚, ğ›†) = Î»x. Î” ğ’¦ á… â¦‡Î¸.fâ¦ˆ(Î´.h.C, eâ‚€, eâ‚, ğ›†) : Î  (x : A) (Î” ğ’¦ á… â¦‡ğ“‘â¦ˆ(Î´.h.C, Î” ğ’¦ á… â¦ƒÎ¸.fâ¦„(eÌ„â‚€)))
        //ğ“œ : Î  (x : A) ğ“‘
        //We have: ğ“‘(a/x) = ğ’œ
        //Expected type: Î” ğ’¦ á… â¦‡ğ’œâ¦ˆ(Î´.h.C, Î” ğ’¦ á… â¦ƒÎ¸.ğ“œ aâ¦„(eÌ„â‚€))
        //                   =
        //               Î” ğ’¦ á… â¦‡ğ“‘(a/x)â¦ˆ(Î´.h.C, Î” ğ’¦ á… â¦ƒÎ¸.ğ“œ aâ¦„(eÌ„â‚€))
        //                   =
        //               Î” ğ’¦ á… â¦‡ğ“‘(a/x)â¦ˆ(Î´.h.C, (Î” ğ’¦ á… â¦ƒÎ¸.ğ“œâ¦„(eÌ„â‚€)) a)
        //â¦‡Î¸.ğ“œâ¦ˆ(Î´.h.C, eÌ„â‚€, eÌ„â‚, ğ›†) : Î  (x : A) (Î” ğ’¦ á… â¦‡ğ“‘â¦ˆ(Î´.h.C, (Î” ğ’¦ á… â¦ƒÎ¸.ğ“œâ¦„(eÌ„â‚€)) x))
        //Got type: Î” ğ’¦ á… â¦‡ğ“‘(a/x)â¦ˆ(Î´.h.C, (Î” ğ’¦ á… â¦ƒÎ¸.ğ“œâ¦„(eÌ„â‚€)) a)
        Î” ğ’¦ á… â¦‡Î¸.ğ“œ aâ¦ˆ(Î´.h.C, eÌ„â‚€, eÌ„â‚, ğ›†) = â¦‡Î¸.ğ“œâ¦ˆ(Î´.h.C, eÌ„â‚€, eÌ„â‚, ğ›†) a

        //ğ’¦[â„“] = (Î, Ï´', Î¾.IÌ…')
        //eÌ„ : Î
        //ğ’©Ì… : Ï´'
        //ğ›†[â„“] = Î³.Î·.Ï.e :
        //Expected type: â¦‡ğ’³(IÌ…'(eÌ„/Î¾))â¦ˆ(Î´.h.C, Î” ğ’¦ á… â¦ƒÎ¸.Intro â„“ eÌ„ ğ’©Ì…â¦„(eÌ„â‚€))
                            =
                         â¦‡ğ’³(IÌ…'(eÌ„/Î¾))â¦ˆ(Î´.h.C, Intro â„“ Î” ğ’¦ eÌ„ (Î” ğ’¦ á… â¦ƒÎ¸.ğ’©Ì…â¦„(eÌ„â‚€)))
                            =
                         C(IÌ…'(eÌ„/Î¾), Intro â„“ Î” ğ’¦ eÌ„ (Î” ğ’¦ á… â¦ƒÎ¸.ğ’©Ì…â¦„(eÌ„â‚€)))
        Î” ğ’¦ á… â¦‡Î¸.Intro â„“ eÌ„ ğ’©Ì…â¦ˆ(Î´.h.C, eÌ„â‚€, eÌ„â‚, ğ›†)
               =
             e(eÌ„, Î” ğ’¦ á… â¦ƒğ’©Ì…â¦„(eÌ„â‚€) : Î” ğ’¦ á… â¦ƒÏ´'â¦„, â¦‡Î¸.ğ’©Ì…â¦ˆ(Î´.h.C, eÌ„â‚€, eÌ„â‚, ğ›†) : Î” ğ’¦ á… â¦‡Ï´'â¦ˆ(Î´.h.C, Î” ğ’¦ á… â¦ƒÎ¸.ğ’©Ì…â¦„(eÌ„â‚€)))

        //eÌ„â‚€ = eÌ„â‚€â‚€ eâ‚€áµ¢ eÌ„â‚€â‚
        //eÌ„â‚ = eÌ„â‚â‚€ eâ‚áµ¢ eÌ„â‚â‚
        //eâ‚áµ¢ : Î” ğ’¦ á… â¦‡ğ’œâ¦ˆ(Î´.h.C, eâ‚€áµ¢)
        //Ï´ = Ï´â‚€ ğ’œ Ï´â‚
        //Expected type:
        //Î” ğ’¦ á… â¦‡ğ’œâ¦ˆ(Î´.h.C, eâ‚€áµ¢)
        Î” ğ’¦ á… â¦‡Î¸.xáµ¢â¦ˆ(Î´.h.C, eÌ„â‚€, eÌ„â‚, ğ›†) = eâ‚áµ¢


Î£ | Î“ âŠ¦ Î” á… Ï´' actx
Î£ | Î“ âŠ¦ Î” á… Ï´ actx
Î£ | Î“ Ï´ âŠ¦ Î” ğ’¦ á… ğ“œÌ… : Ï´'
Î£ | Î“ âŠ¦ eÌ„â‚€ : Î” ğ’¦ á… â¦ƒÏ´â¦„
Î£ | Î“ âŠ¦ eÌ„â‚ : Î” ğ’¦ á… â¦‡Ï´â¦ˆ(Î´.h.C, eÌ„â‚€)
Î£ | Î“ âŠ¦ ğ›† : ğ’¦ â†’ Î´.h.C
-------------------------------------------------------------------------------
Î£ | Î“ âŠ¦ Î” ğ’¦ á… â¦‡Î¸.ğ“œÌ…â¦ˆ(Î´.h.C, eÌ„â‚€, eÌ„â‚, ğ›†) : Î” ğ’¦ á… â¦‡Ï´'â¦ˆ(Î´.h.C, Î” ğ’¦ á… â¦ƒÎ¸.ğ“œÌ…â¦„(eÌ„â‚€))
        Î” ğ’¦ á… â¦‡Î¸.Â·â¦ˆ(Î´.h.C, eÌ„â‚€, eÌ„â‚, ğ›†) = Â· : Îµ
        Î” ğ’¦ á… â¦‡Î¸.ğ“œÌ… ğ“œâ¦ˆ(Î´.h.C, eÌ„â‚€, eÌ„â‚, ğ›†)
          =
        (â¦‡Î¸.ğ“œÌ…â¦ˆ(Î´.h.C, eÌ„â‚€, eÌ„â‚, ğ›†)) (â¦‡Î¸.ğ“œâ¦ˆ(Î´.h.C, eÌ„â‚€, eÌ„â‚, ğ›†)) : (Î” ğ’¦ á… â¦‡Ï´'â¦ˆ(Î´.h.C, Î” ğ’¦ á… â¦ƒÎ¸.ğ“œÌ…â¦„(eÌ„â‚€))) (Î” ğ’¦ á… â¦‡ğ’œâ¦ˆ(Î´.h.C, Î” ğ’¦ á… â¦ƒÎ¸.ğ“œâ¦„(eÌ„â‚€)))

Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ âŠ¦ Î” á… ğ’œ actx
Î£ | Î“ âŠ¦ t : Î” ğ’¦ á… â¦ƒğ’œâ¦„
Î£ | Î“ (Î´ : Î”) (h : Ind Î” ğ’¦ Î´) âŠ¦ C type
----------------------------------------------------
Î£ | Î“ âŠ¦ Î” ğ’¦ á… act(Î´.h.C, ğ’œ, t) : Î” ğ’¦ á… â¦‡ğ’œâ¦ˆ(Î´.h.C, t)
        Î” ğ’¦ á… act(Î´.h.C, Î  (x : A) ğ“‘, t) = Î»x. Î” ğ’¦ á… act(ğ“‘, t x) : Î  (x : A) (Î” ğ’¦ á… â¦‡ğ“‘â¦ˆ(Î´.h.C, t x))
        Î” ğ’¦ á… act(Î´.h.C, ğ’³(IÌ…), t) = Elim Î” ğ’¦ Î´.h.C IÌ… t : C(IÌ…, t)

Î£ | Î“ âŠ¦ Î” á… ğ’¦
Î£ | Î“ âŠ¦ Î” á… Ï´ actx
Î£ | Î“ âŠ¦ tÌ„ : Î” ğ’¦ á… â¦ƒÏ´â¦„
Î£ | Î“ (Î´ : Î”) (h : Ind Î” ğ’¦ Î´) âŠ¦ C type
----------------------------------------------------
Î£ | Î“ âŠ¦ Î” ğ’¦ á… act(Î´.h.C, Ï´, tÌ„) : Î” ğ’¦ á… â¦‡Ï´â¦ˆ(Î´.h.C, tÌ„)
        Î” ğ’¦ á… act(Î´.h.C, Îµ, Â·) = Â· : Îµ
        Î” ğ’¦ á… act(Î´.h.C, Ï´ ğ’œ, tÌ„ t) = (Î” ğ’¦ á… act(Î´.h.C, Ï´, tÌ„)) (Î” ğ’¦ á… act(Î´.h.C, ğ’œ, t)) : (Î” ğ’¦ á… â¦‡Ï´â¦ˆ(Î´.h.C, tÌ„)) (Î” ğ’¦ á… â¦‡ğ’œâ¦ˆ(Î´.h.C, t))

