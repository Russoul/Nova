//Isomorphism of types
(A B : ğ•Œ) âŠ¦ (A â‰… B) â‰” (f : A â†’ B) â¨¯ (g : B â†’ A) â¨¯ (f âˆ˜ g â‰¡ id) â¨¯ (g âˆ˜ f â‰¡ id)

//Isomorphism is reflexive
{A : ğ•Œ} âŠ¦ id : (A â‰… A)
âˆ
* (A : ğ•Œ) âŠ¦ f â‰” id : A â†’ A
* (A : ğ•Œ) âŠ¦ g â‰” id : A â†’ A
* (A : ğ•Œ) âŠ¦ f âˆ˜ g â‰¡ id
  //By definition
  (A : ğ•Œ) âŠ¦ id âˆ˜ id â‰¡ id
  //By id left unit
  (A : ğ•Œ) âŠ¦ id â‰¡ id
  //By reflexivity
* (A : ğ•Œ) âŠ¦ g âˆ˜ f â‰¡ id
  //By definition
  (A : ğ•Œ) âŠ¦ id âˆ˜ id â‰¡ id
  //By id left unit
  (A : ğ•Œ) âŠ¦ id â‰¡ id
  //By reflexivity âˆ

//Isomorphism is symmetric
{A B : ğ•Œ} (I : A â‰… B) âŠ¦ Iâ»Â¹ : (B â‰… A)
âˆ
* (A B : ğ•Œ) (I : A â‰… B) âŠ¦ f : B â†’ A
  //By definition of I
  (A B : ğ•Œ) (f : A â†’ B) (g : B â†’ A) (f âˆ˜ g â‰¡ id) (g âˆ˜ f â‰¡ id) âŠ¦ ?f â‰” g : B â†’ A
* (A B : ğ•Œ) (I : A â‰… B) âŠ¦ ?g : A â†’ B
  //By definition of I
  (A B : ğ•Œ) (f : A â†’ B) (g : B â†’ A) (f âˆ˜ g â‰¡ id) (g âˆ˜ f â‰¡ id) âŠ¦ ?g â‰” f : A â†’ B
* (A B : ğ•Œ) (I : A â‰… B) âŠ¦ ?f âˆ˜ ?g â‰¡ id
  //By definition
  (A B : ğ•Œ) (f : A â†’ B) (g : B â†’ A) (f âˆ˜ g â‰¡ id) (g âˆ˜ f â‰¡ id) âŠ¦ g âˆ˜ f â‰¡ id
  //By hypothesis
* (A B : ğ•Œ) (I : A â‰… B) âŠ¦ ?g âˆ˜ ?f â‰¡ id
  //By definition
  (A B : ğ•Œ) (f : A â†’ B) (g : B â†’ A) (f âˆ˜ g â‰¡ id) (g âˆ˜ f â‰¡ id) âŠ¦ f âˆ˜ g â‰¡ id
  //By hypothesis âˆ

//Isomorphism is transitive
{A B C : ğ•Œ} (I : A â‰… B) (J : B â‰… C) âŠ¦ J âˆ˜ I : (A â‰… C)
âˆ
//By definition
{A B C : ğ•Œ}
(f : A â†’ B) (fâ»Â¹ : B â†’ A) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id)
(g : B â†’ C) (gâ»Â¹ : C â†’ B) (g âˆ˜ gâ»Â¹ â‰¡ id) (gâ»Â¹ âˆ˜ g â‰¡ id)
âŠ¦
A â‰… C
//By definition of iso

  {A B C : ğ•Œ}
* (f : A â†’ B) (fâ»Â¹ : B â†’ A) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id)
  (g : B â†’ C) (gâ»Â¹ : C â†’ B) (g âˆ˜ gâ»Â¹ â‰¡ id) (gâ»Â¹ âˆ˜ g â‰¡ id)
  âŠ¦
  ?f â‰” g âˆ˜ f : A â†’ C


  {A B C : ğ•Œ}
* (f : A â†’ B) (fâ»Â¹ : B â†’ A) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id)
  (g : B â†’ C) (gâ»Â¹ : C â†’ B) (g âˆ˜ gâ»Â¹ â‰¡ id) (gâ»Â¹ âˆ˜ g â‰¡ id)
  âŠ¦
  ?g â‰” fâ»Â¹ âˆ˜ gâ»Â¹ : C â†’ A

  {A B C : ğ•Œ}
* (f : A â†’ B) (fâ»Â¹ : B â†’ A) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id)
  (g : B â†’ C) (gâ»Â¹ : C â†’ B) (g âˆ˜ gâ»Â¹ â‰¡ id) (gâ»Â¹ âˆ˜ g â‰¡ id)
  âŠ¦
  ?f âˆ˜ ?g â‰¡ id

  //By definition

  {A B C : ğ•Œ}
  (f : A â†’ B) (fâ»Â¹ : B â†’ A) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id)
  (g : B â†’ C) (gâ»Â¹ : C â†’ B) (g âˆ˜ gâ»Â¹ â‰¡ id) (gâ»Â¹ âˆ˜ g â‰¡ id)
  âŠ¦
  (g âˆ˜ f) âˆ˜ (fâ»Â¹ âˆ˜ gâ»Â¹) â‰¡ id

  {A B C : ğ•Œ}
  (f : A â†’ B) (fâ»Â¹ : B â†’ A) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id)
  (g : B â†’ C) (gâ»Â¹ : C â†’ B) (g âˆ˜ gâ»Â¹ â‰¡ id) (gâ»Â¹ âˆ˜ g â‰¡ id)
  âŠ¦
  g âˆ˜ (f âˆ˜ fâ»Â¹) âˆ˜ gâ»Â¹ â‰¡ id

  {A B C : ğ•Œ}
  (f : A â†’ B) (fâ»Â¹ : B â†’ A) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id)
  (g : B â†’ C) (gâ»Â¹ : C â†’ B) (g âˆ˜ gâ»Â¹ â‰¡ id) (gâ»Â¹ âˆ˜ g â‰¡ id)
  âŠ¦
  g âˆ˜ id âˆ˜ gâ»Â¹ â‰¡ id

  {A B C : ğ•Œ}
  (f : A â†’ B) (fâ»Â¹ : B â†’ A) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id)
  (g : B â†’ C) (gâ»Â¹ : C â†’ B) (g âˆ˜ gâ»Â¹ â‰¡ id) (gâ»Â¹ âˆ˜ g â‰¡ id)
  âŠ¦
  g âˆ˜ gâ»Â¹ â‰¡ id

  {A B C : ğ•Œ}
  (f : A â†’ B) (fâ»Â¹ : B â†’ A) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id)
  (g : B â†’ C) (gâ»Â¹ : C â†’ B) (g âˆ˜ gâ»Â¹ â‰¡ id) (gâ»Â¹ âˆ˜ g â‰¡ id)
  âŠ¦
  id â‰¡ id

  //By reflexivity

  {A B C : ğ•Œ}
* (f : A â†’ B) (fâ»Â¹ : B â†’ A) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id)
  (g : B â†’ C) (gâ»Â¹ : C â†’ B) (g âˆ˜ gâ»Â¹ â‰¡ id) (gâ»Â¹ âˆ˜ g â‰¡ id)
  âŠ¦
  (fâ»Â¹ âˆ˜ gâ»Â¹) âˆ˜ (g âˆ˜ f) â‰¡ id

  {A B C : ğ•Œ}
  (f : A â†’ B) (fâ»Â¹ : B â†’ A) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id)
  (g : B â†’ C) (gâ»Â¹ : C â†’ B) (g âˆ˜ gâ»Â¹ â‰¡ id) (gâ»Â¹ âˆ˜ g â‰¡ id)
  âŠ¦
  fâ»Â¹ âˆ˜ (gâ»Â¹ âˆ˜ g) âˆ˜ f â‰¡ id

  {A B C : ğ•Œ}
  (f : A â†’ B) (fâ»Â¹ : B â†’ A) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id)
  (g : B â†’ C) (gâ»Â¹ : C â†’ B) (g âˆ˜ gâ»Â¹ â‰¡ id) (gâ»Â¹ âˆ˜ g â‰¡ id)
  âŠ¦
  fâ»Â¹ âˆ˜ id âˆ˜ f â‰¡ id

  {A B C : ğ•Œ}
  (f : A â†’ B) (fâ»Â¹ : B â†’ A) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id)
  (g : B â†’ C) (gâ»Â¹ : C â†’ B) (g âˆ˜ gâ»Â¹ â‰¡ id) (gâ»Â¹ âˆ˜ g â‰¡ id)
  âŠ¦
  fâ»Â¹ âˆ˜ f â‰¡ id

  {A B C : ğ•Œ}
  (f : A â†’ B) (fâ»Â¹ : B â†’ A) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id)
  (g : B â†’ C) (gâ»Â¹ : C â†’ B) (g âˆ˜ gâ»Â¹ â‰¡ id) (gâ»Â¹ âˆ˜ g â‰¡ id)
  âŠ¦
  id â‰¡ id

  //By reflexivity âˆ

//Iso inverse unit
idâ»Â¹ â‰¡ id : A â‰… A
âˆ
//By definition
(id, id, *, *)â»Â¹ â‰¡ (id, id, *, *) : A â‰… A
//By definition
(id, id, *, *) â‰¡ (id, id, *, *) : A â‰… A
//By reflexivity âˆ

//Iso composition left unit
id âˆ˜ I â‰¡ I : A â‰… B
âˆ
//By uniqueness of Î£
id âˆ˜ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, I.Ï€â‚‚.Ï€â‚‚.Ï€â‚, I.Ï€â‚‚.Ï€â‚‚.Ï€â‚‚) â‰¡ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, I.Ï€â‚‚.Ï€â‚‚.Ï€â‚, I.Ï€â‚‚.Ï€â‚‚.Ï€â‚‚) : A â‰… B
//By definition of id
(id, id, *, *) âˆ˜ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, I.Ï€â‚‚.Ï€â‚‚.Ï€â‚, I.Ï€â‚‚.Ï€â‚‚.Ï€â‚‚) â‰¡ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, I.Ï€â‚‚.Ï€â‚‚.Ï€â‚, I.Ï€â‚‚.Ï€â‚‚.Ï€â‚‚) : A â‰… B
//By uniqueness of (â‰¡)
(id, id, *, *) âˆ˜ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, *, *) â‰¡ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, *, *) : A â‰… B
//By definition of (âˆ˜)
(id âˆ˜ I.Ï€â‚, I.Ï€â‚‚.Ï€â‚ âˆ˜ id, *, *) â‰¡ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, *, *) : A â‰… B
//By composition left unit
(I.Ï€â‚, I.Ï€â‚‚.Ï€â‚ âˆ˜ id, *, *) â‰¡ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, *, *) : A â‰… B
//By composition right unit
(I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, *, *) â‰¡ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, *, *) : A â‰… B
//By reflexivity âˆ

//Iso composition right unit
I âˆ˜ id â‰¡ I : A â‰… B
âˆ
//By uniqueness of Î£
(I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, I.Ï€â‚‚.Ï€â‚‚.Ï€â‚, I.Ï€â‚‚.Ï€â‚‚.Ï€â‚‚) âˆ˜ id â‰¡ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, I.Ï€â‚‚.Ï€â‚‚.Ï€â‚, I.Ï€â‚‚.Ï€â‚‚.Ï€â‚‚) : A â‰… B
//By uniqueness of (â‰¡)
(I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, *, *) âˆ˜ id â‰¡ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, *, *) : A â‰… B
//By definition of (âˆ˜)
(I.Ï€â‚ âˆ˜ id, id âˆ˜ I.Ï€â‚‚.Ï€â‚, *, *) â‰¡ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, *, *) : A â‰… B
//By left and right unit of composition
(I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, *, *) â‰¡ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, *, *) : A â‰… B
//By reflexivity âˆ

//Iso composition associative
(I : A â‰… B) (J : B â‰… C) (K : C â‰… D) âŠ¦ K âˆ˜ (J âˆ˜ I) â‰¡ (K âˆ˜ J) âˆ˜ I : A â‰… D
âˆ
//By uniqueness of Î£
(I : A â‰… B) (J : B â‰… C) (K : C â‰… D)
âŠ¦
(K.Ï€â‚, K.Ï€â‚‚.Ï€â‚, K.Ï€â‚‚.Ï€â‚‚.Ï€â‚, K.Ï€â‚‚.Ï€â‚‚.Ï€â‚‚) âˆ˜ ((J.Ï€â‚, J.Ï€â‚‚.Ï€â‚, J.Ï€â‚‚.Ï€â‚‚.Ï€â‚, J.Ï€â‚‚.Ï€â‚‚.Ï€â‚‚) âˆ˜ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, I.Ï€â‚‚.Ï€â‚‚.Ï€â‚, I.Ï€â‚‚.Ï€â‚‚.Ï€â‚‚))
â‰¡
((K.Ï€â‚, K.Ï€â‚‚.Ï€â‚, K.Ï€â‚‚.Ï€â‚‚.Ï€â‚, K.Ï€â‚‚.Ï€â‚‚.Ï€â‚‚) âˆ˜ (J.Ï€â‚, J.Ï€â‚‚.Ï€â‚, J.Ï€â‚‚.Ï€â‚‚.Ï€â‚, J.Ï€â‚‚.Ï€â‚‚.Ï€â‚‚)) âˆ˜ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, I.Ï€â‚‚.Ï€â‚‚.Ï€â‚, I.Ï€â‚‚.Ï€â‚‚.Ï€â‚‚)
:
A â‰… D
//By uniqueness of (â‰¡)
(I : A â‰… B) (J : B â‰… C) (K : C â‰… D)
âŠ¦
(K.Ï€â‚, K.Ï€â‚‚.Ï€â‚, *, *) âˆ˜ ((J.Ï€â‚, J.Ï€â‚‚.Ï€â‚, *, *) âˆ˜ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, *, *))
â‰¡
((K.Ï€â‚, K.Ï€â‚‚.Ï€â‚, *, *) âˆ˜ (J.Ï€â‚, J.Ï€â‚‚.Ï€â‚, *, *)) âˆ˜ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, *, *)
:
A â‰… D
//By definition
(K.Ï€â‚, K.Ï€â‚‚.Ï€â‚, *, *) âˆ˜ ((J.Ï€â‚ âˆ˜ I.Ï€â‚, I.Ï€â‚‚.Ï€â‚ âˆ˜ J.Ï€â‚‚.Ï€â‚, *, *))
â‰¡
((K.Ï€â‚ âˆ˜ J.Ï€â‚, J.Ï€â‚‚.Ï€â‚ âˆ˜ K.Ï€â‚‚.Ï€â‚, *, *)) âˆ˜ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, *, *)
:
A â‰… D
//By definition
(K.Ï€â‚ âˆ˜ (J.Ï€â‚ âˆ˜ I.Ï€â‚), (I.Ï€â‚‚.Ï€â‚ âˆ˜ J.Ï€â‚‚.Ï€â‚) âˆ˜ K.Ï€â‚‚.Ï€â‚, *, *)
â‰¡
((K.Ï€â‚ âˆ˜ J.Ï€â‚) âˆ˜ I.Ï€â‚, I.Ï€â‚‚.Ï€â‚ âˆ˜ (J.Ï€â‚‚.Ï€â‚ âˆ˜ K.Ï€â‚‚.Ï€â‚), *, *)
:
A â‰… D
//By associativity of function composition
((K.Ï€â‚ âˆ˜ J.Ï€â‚) âˆ˜ I.Ï€â‚, (I.Ï€â‚‚.Ï€â‚ âˆ˜ J.Ï€â‚‚.Ï€â‚) âˆ˜ K.Ï€â‚‚.Ï€â‚, *, *)
â‰¡
((K.Ï€â‚ âˆ˜ J.Ï€â‚) âˆ˜ I.Ï€â‚, (I.Ï€â‚‚.Ï€â‚ âˆ˜ J.Ï€â‚‚.Ï€â‚) âˆ˜ K.Ï€â‚‚.Ï€â‚, *, *)
:
A â‰… D
//By reflexivity âˆ

//ğ•Œ is a groupoid
//* Objects are A : ğ•Œ
//* Given A B : ğ•Œ
//  morphisms between A and B are (A â‰… B)
//* Given A : ğ•Œ
//  id : A â‰… A
//* Given I : A â‰… B
//        J : B â‰… C
//  composition of morphisms (J âˆ˜ I) is composition of isos
//* Given I : A â‰… B
//  The inverse morphism Iâ»Â¹ is the inverse of iso
//* Iso inverse unit law
//* Iso composition left and right unit laws
//* Iso composition is associative

//Iso post-composition
(A Bâ‚€ Bâ‚ : ğ•Œ) (I : Bâ‚€ â‰… Bâ‚) âŠ¦ (A â†’ I) : (A â†’ Bâ‚€) â‰… (A â†’ Bâ‚)
âˆ
(A Bâ‚€ Bâ‚ : ğ•Œ) (f : Bâ‚€ â†’ Bâ‚) (fâ»Â¹ : Bâ‚ â†’ Bâ‚€) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id) âŠ¦ (A â†’ Bâ‚€) â‰… (A â†’ Bâ‚)
* (A Bâ‚€ Bâ‚ : ğ•Œ) (f : Bâ‚€ â†’ Bâ‚) (fâ»Â¹ : Bâ‚ â†’ Bâ‚€) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id) âŠ¦ ?f â‰” (A â†’ f) : (A â†’ Bâ‚€) â†’ (A â†’ Bâ‚)
* (A Bâ‚€ Bâ‚ : ğ•Œ) (f : Bâ‚€ â†’ Bâ‚) (fâ»Â¹ : Bâ‚ â†’ Bâ‚€) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id) âŠ¦ ?g â‰” (A â†’ fâ»Â¹) : (A â†’ Bâ‚) â†’ (A â†’ Bâ‚€)
* (A Bâ‚€ Bâ‚ : ğ•Œ) (f : Bâ‚€ â†’ Bâ‚) (fâ»Â¹ : Bâ‚ â†’ Bâ‚€) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id) âŠ¦ ?f âˆ˜ ?g â‰¡ id
  //By definition
  (A Bâ‚€ Bâ‚ : ğ•Œ) (f : Bâ‚€ â†’ Bâ‚) (fâ»Â¹ : Bâ‚ â†’ Bâ‚€) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id) âŠ¦ (A â†’ f) âˆ˜ (A â†’ fâ»Â¹) â‰¡ id
  //By functoriality of post-composition
  (A Bâ‚€ Bâ‚ : ğ•Œ) (f : Bâ‚€ â†’ Bâ‚) (fâ»Â¹ : Bâ‚ â†’ Bâ‚€) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id) âŠ¦ (A â†’ f âˆ˜ fâ»Â¹) â‰¡ id
  //By hypothesis
  (A Bâ‚€ Bâ‚ : ğ•Œ) (f : Bâ‚€ â†’ Bâ‚) (fâ»Â¹ : Bâ‚ â†’ Bâ‚€) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id) âŠ¦ (A â†’ id) â‰¡ id
  //By functoriality of post-composition
  (A Bâ‚€ Bâ‚ : ğ•Œ) (f : Bâ‚€ â†’ Bâ‚) (fâ»Â¹ : Bâ‚ â†’ Bâ‚€) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id) âŠ¦ id â‰¡ id
  //By reflexivity
* (A Bâ‚€ Bâ‚ : ğ•Œ) (f : Bâ‚€ â†’ Bâ‚) (fâ»Â¹ : Bâ‚ â†’ Bâ‚€) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id) âŠ¦ ?g âˆ˜ ?f â‰¡ id
  //By definition
  (A Bâ‚€ Bâ‚ : ğ•Œ) (f : Bâ‚€ â†’ Bâ‚) (fâ»Â¹ : Bâ‚ â†’ Bâ‚€) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id) âŠ¦ (A â†’ fâ»Â¹) âˆ˜ (A â†’ f) â‰¡ id
  //By functoriality of post-composition
  (A Bâ‚€ Bâ‚ : ğ•Œ) (f : Bâ‚€ â†’ Bâ‚) (fâ»Â¹ : Bâ‚ â†’ Bâ‚€) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id) âŠ¦ (A â†’ fâ»Â¹ âˆ˜ f) â‰¡ id
  //By hypothesis
  (A Bâ‚€ Bâ‚ : ğ•Œ) (f : Bâ‚€ â†’ Bâ‚) (fâ»Â¹ : Bâ‚ â†’ Bâ‚€) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id) âŠ¦ (A â†’ id) â‰¡ id
  //By functoriality of post-composition
  (A Bâ‚€ Bâ‚ : ğ•Œ) (f : Bâ‚€ â†’ Bâ‚) (fâ»Â¹ : Bâ‚ â†’ Bâ‚€) (f âˆ˜ fâ»Â¹ â‰¡ id) (fâ»Â¹ âˆ˜ f â‰¡ id) âŠ¦ id â‰¡ id âˆ

//Iso post-composition preserves identity
{X A : ğ•Œ} âŠ¦ (X â†’ id) â‰¡ id : (X â†’ A) â‰… (X â†’ A)
âˆ
//By definition
{X A : ğ•Œ} âŠ¦ ((X â†’ id), (X â†’ id), *, *) â‰¡ id : (X â†’ A) â‰… (X â†’ A)
//By functoriality of post-composition functor
{X A : ğ•Œ} âŠ¦ (id, id, *, *) â‰¡ id : (X â†’ A) â‰… (X â†’ A)
//By definition
{X A : ğ•Œ} âŠ¦ (id, id, *, *) â‰¡ (id, id, *, *) : (X â†’ A) â‰… (X â†’ A)
//By reflexivity âˆ

//Iso post-composition preserves composition
{X A : ğ•Œ} (I : A â‰… B) (J : B â‰… C) âŠ¦ (X â†’ (J âˆ˜ I)) â‰¡ (X â†’ J) âˆ˜ (X â†’ I) : (X â†’ A) â‰… (X â†’ C)
âˆ
//By definition iso-composition
{X A : ğ•Œ} (I : A â‰… B) (J : B â‰… C)
âŠ¦
(X â†’ (J.Ï€â‚ âˆ˜ I.Ï€â‚, I.Ï€â‚‚.Ï€â‚ âˆ˜ J.Ï€â‚‚.Ï€â‚, *, *))
â‰¡
((X â†’ J).Ï€â‚ âˆ˜ (X â†’ I).Ï€â‚, (X â†’ I).Ï€â‚‚.Ï€â‚ âˆ˜ (X â†’ J).Ï€â‚‚.Ï€â‚‚, *, *)
:
(X â†’ A) â‰… (X â†’ C)
//By definition
(X â†’ (J.Ï€â‚ âˆ˜ I.Ï€â‚, I.Ï€â‚‚.Ï€â‚ âˆ˜ J.Ï€â‚‚.Ï€â‚, *, *))
â‰¡
((X â†’ J.Ï€â‚) âˆ˜ (X â†’ I.Ï€â‚), (X â†’ I.Ï€â‚‚.Ï€â‚) âˆ˜ (X â†’ J.Ï€â‚‚.Ï€â‚‚), *, *)
:
(X â†’ A) â‰… (X â†’ C)
//
(X â†’ J.Ï€â‚ âˆ˜ I.Ï€â‚, X â†’ I.Ï€â‚‚.Ï€â‚ âˆ˜ J.Ï€â‚‚.Ï€â‚, *, *)
â‰¡
((X â†’ J.Ï€â‚) âˆ˜ (X â†’ I.Ï€â‚), (X â†’ I.Ï€â‚‚.Ï€â‚) âˆ˜ (X â†’ J.Ï€â‚‚.Ï€â‚‚), *, *)
:
(X â†’ A) â‰… (X â†’ C)
//By functoriality of post-composition functor
(X â†’ J.Ï€â‚ âˆ˜ I.Ï€â‚, X â†’ I.Ï€â‚‚.Ï€â‚ âˆ˜ J.Ï€â‚‚.Ï€â‚, *, *)
â‰¡
(X â†’ J.Ï€â‚ âˆ˜ I.Ï€â‚, X â†’ I.Ï€â‚‚.Ï€â‚ âˆ˜ J.Ï€â‚‚.Ï€â‚‚, *, *)
:
(X â†’ A) â‰… (X â†’ C)
//By reflexivity âˆ

//Iso post-composition preserves inverse
{X A B : ğ•Œ} (I : A â‰… B) âŠ¦ (X â†’ Iâ»Â¹) â‰¡ (X â†’ I)â»Â¹ : (X â†’ B) â‰… (X â†’ A)
âˆ
//By uniqueness of Î£
{X A B : ğ•Œ} (I : A â‰… B) âŠ¦ (X â†’ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, *, *)â»Â¹) â‰¡ (X â†’ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, *, *))â»Â¹ : (X â†’ B) â‰… (X â†’ A)
//By definition of inverse
{X A B : ğ•Œ} (I : A â‰… B) âŠ¦ (X â†’ (I.Ï€â‚‚.Ï€â‚, I.Ï€â‚, *, *)) â‰¡ (X â†’ (I.Ï€â‚, I.Ï€â‚‚.Ï€â‚, *, *))â»Â¹ : (X â†’ B) â‰… (X â†’ A)
//By definition of post-composition endo-functor on ğ•Œ-groupoid
{X A B : ğ•Œ} (I : A â‰… B) âŠ¦ (X â†’ I.Ï€â‚‚.Ï€â‚, X â†’ I.Ï€â‚, *, *) â‰¡ (X â†’ I.Ï€â‚, X â†’ I.Ï€â‚‚.Ï€â‚, *, *)â»Â¹ : (X â†’ B) â‰… (X â†’ A)
//By definition of inverse
{X A B : ğ•Œ} (I : A â‰… B) âŠ¦ (X â†’ I.Ï€â‚‚.Ï€â‚, X â†’ I.Ï€â‚, *, *) â‰¡ (X â†’ I.Ï€â‚‚.Ï€â‚, X â†’ I.Ï€â‚, *, *) : (X â†’ B) â‰… (X â†’ A)
//By reflexivity âˆ

//Iso post-composition is an endo-functor on ğ•Œ seen as groupoid
//* It preserves identity
//* It preserves composition
//* It preserves inverse

//Iso right-action
(A Bâ‚€ Bâ‚ : ğ•Œ) (I : Bâ‚€ â‰… Bâ‚) âŠ¦ (A â¨¯ I) : (A â¨¯ Bâ‚€) â‰… (A â¨¯ Bâ‚)
âˆ
//It's enough to define
* (A Bâ‚€ Bâ‚ : ğ•Œ) (I : Bâ‚€ â‰… Bâ‚) âŠ¦ ?f â‰” A â¨¯ I.Ï€â‚ : (A â¨¯ Bâ‚€) â†’ (A â¨¯ Bâ‚)
* (A Bâ‚€ Bâ‚ : ğ•Œ) (I : Bâ‚€ â‰… Bâ‚) âŠ¦ ?g â‰” A â¨¯ I.Ï€â‚‚.Ï€â‚ : (A â¨¯ Bâ‚) â†’ (A â¨¯ Bâ‚€)
* (A Bâ‚€ Bâ‚ : ğ•Œ) (I : Bâ‚€ â‰… Bâ‚) âŠ¦ ?f âˆ˜ ?g â‰¡ id
  //By definition
  (A Bâ‚€ Bâ‚ : ğ•Œ) (I : Bâ‚€ â‰… Bâ‚) âŠ¦ (A â¨¯ I.Ï€â‚) âˆ˜ (A â¨¯ I.Ï€â‚‚.Ï€â‚) â‰¡ id
  //By functoriality of right-action
  (A Bâ‚€ Bâ‚ : ğ•Œ) (I : Bâ‚€ â‰… Bâ‚) âŠ¦ (A â¨¯ (I.Ï€â‚ âˆ˜ I.Ï€â‚‚.Ï€â‚)) â‰¡ id
  //By hypothesis
  (A Bâ‚€ Bâ‚ : ğ•Œ) (I : Bâ‚€ â‰… Bâ‚) âŠ¦ (A â¨¯ id) â‰¡ id
  //By functoriality of right-action
  (A Bâ‚€ Bâ‚ : ğ•Œ) (I : Bâ‚€ â‰… Bâ‚) âŠ¦ id â‰¡ id
  //By reflexivity
* (A Bâ‚€ Bâ‚ : ğ•Œ) (I : Bâ‚€ â‰… Bâ‚) âŠ¦ ?g âˆ˜ ?f â‰¡ id
  //By definition
  (A Bâ‚€ Bâ‚ : ğ•Œ) (I : Bâ‚€ â‰… Bâ‚) âŠ¦ (A â¨¯ I.Ï€â‚‚.Ï€â‚) âˆ˜ (A â¨¯ I.Ï€â‚) â‰¡ id
  //By functoriality of right-action
  (A Bâ‚€ Bâ‚ : ğ•Œ) (I : Bâ‚€ â‰… Bâ‚) âŠ¦ (A â¨¯ (I.Ï€â‚‚.Ï€â‚ âˆ˜ I.Ï€â‚)) â‰¡ id
  //By hypothesis
  (A Bâ‚€ Bâ‚ : ğ•Œ) (I : Bâ‚€ â‰… Bâ‚) âŠ¦ (A â¨¯ id) â‰¡ id
  //By functoriality of right-action
  (A Bâ‚€ Bâ‚ : ğ•Œ) (I : Bâ‚€ â‰… Bâ‚) âŠ¦ id â‰¡ id
  //By reflexivity âˆ

//Iso right-action preserves identity
(X A : ğ•Œ) âŠ¦ (X â¨¯ id) â‰¡ id : (X â¨¯ A) â‰… (X â¨¯ A)
âˆ
//By definition
(X A : ğ•Œ) âŠ¦ (X â¨¯ id, X â¨¯ id, *, *) â‰¡ (id, id, *, *) : (X â¨¯ A) â‰… (X â¨¯ A)
//By functoriality of right-action
(X A : ğ•Œ) âŠ¦ (id, id, *, *) â‰¡ (id, id, *, *) : (X â¨¯ A) â‰… (X â¨¯ A)
//By reflexivity âˆ

//Iso right-action preserves inverse
(X A B : ğ•Œ) (I : A â‰… B) âŠ¦ (X â¨¯ Iâ»Â¹) â‰¡ (X â¨¯ I)â»Â¹ : (X â¨¯ B) â‰… (X â¨¯ A)
âˆ
//By definition
(X A B : ğ•Œ) (I : A â‰… B) âŠ¦ (X â¨¯ Iâ»Â¹.Ï€â‚, X â¨¯ Iâ»Â¹.Ï€â‚‚.Ï€â‚, *, *) â‰¡ ((X â¨¯ I).Ï€â‚‚.Ï€â‚, (X â¨¯ I).Ï€â‚, *, *) : (X â¨¯ B) â‰… (X â¨¯ A)
//
(X A B : ğ•Œ) (I : A â‰… B) âŠ¦
(X â¨¯ (I.Ï€â‚‚.Ï€â‚, I.Ï€â‚, *, *).Ï€â‚, X â¨¯ (I.Ï€â‚‚.Ï€â‚, I.Ï€â‚, *, *).Ï€â‚‚.Ï€â‚, *, *)
â‰¡
((X â¨¯ I).Ï€â‚‚.Ï€â‚, (X â¨¯ I).Ï€â‚, *, *)
:
(X â¨¯ B) â‰… (X â¨¯ A)
//
(X A B : ğ•Œ) (I : A â‰… B) âŠ¦
(X â¨¯ I.Ï€â‚‚.Ï€â‚, X â¨¯ I.Ï€â‚, *, *)
â‰¡
((X â¨¯ I).Ï€â‚‚.Ï€â‚, (X â¨¯ I).Ï€â‚, *, *)
:
(X â¨¯ B) â‰… (X â¨¯ A)
//
(X A B : ğ•Œ) (I : A â‰… B) âŠ¦
(X â¨¯ I.Ï€â‚‚.Ï€â‚, X â¨¯ I.Ï€â‚, *, *)
â‰¡
(X â¨¯ I.Ï€â‚‚.Ï€â‚, (X â¨¯ I).Ï€â‚, *, *)
:
(X â¨¯ B) â‰… (X â¨¯ A)
//
(X A B : ğ•Œ) (I : A â‰… B) âŠ¦
(X â¨¯ I.Ï€â‚‚.Ï€â‚, X â¨¯ I.Ï€â‚, *, *)
â‰¡
(X â¨¯ I.Ï€â‚‚.Ï€â‚, X â¨¯ I.Ï€â‚, *, *)
:
(X â¨¯ B) â‰… (X â¨¯ A)
//By reflexivity âˆ

//Iso right-action preserves composition
(X A B C) (I : A â‰… B) (J : B â‰… C) âŠ¦ (X â¨¯ (J âˆ˜ I)) â‰¡ (X â¨¯ J) âˆ˜ (X â¨¯ I) : (X â¨¯ A) â‰… (X â¨¯ C)
âˆ
(X A B C)
(I : A â†’ B) (Iâ»Â¹ : B â†’ A) (I âˆ˜ Iâ»Â¹ â‰¡ id) (Iâ»Â¹ âˆ˜ I â‰¡ id)
(J : B â†’ C) (Jâ»Â¹ : C â†’ B) (J âˆ˜ Jâ»Â¹ â‰¡ id) (Jâ»Â¹ âˆ˜ J â‰¡ id)
âŠ¦
(X â¨¯ ((J, Jâ»Â¹, *, *) âˆ˜ (I, Iâ»Â¹, *, *))) â‰¡ (X â¨¯ (J, Jâ»Â¹, *, *)) âˆ˜ (X â¨¯ (I, Iâ»Â¹, *, *)) : (X â¨¯ A) â‰… (X â¨¯ C)
//
(X A B C)
(I : A â†’ B) (Iâ»Â¹ : B â†’ A) (I âˆ˜ Iâ»Â¹ â‰¡ id) (Iâ»Â¹ âˆ˜ I â‰¡ id)
(J : B â†’ C) (Jâ»Â¹ : C â†’ B) (J âˆ˜ Jâ»Â¹ â‰¡ id) (Jâ»Â¹ âˆ˜ J â‰¡ id)
âŠ¦
(X â¨¯ ((J, Jâ»Â¹, *, *) âˆ˜ (I, Iâ»Â¹, *, *))) â‰¡ (X â¨¯ J, X â¨¯ Jâ»Â¹, *, *) âˆ˜ (X â¨¯ I, X â¨¯ Iâ»Â¹, *, *) : (X â¨¯ A) â‰… (X â¨¯ C)
//
(X A B C)
(I : A â†’ B) (Iâ»Â¹ : B â†’ A) (I âˆ˜ Iâ»Â¹ â‰¡ id) (Iâ»Â¹ âˆ˜ I â‰¡ id)
(J : B â†’ C) (Jâ»Â¹ : C â†’ B) (J âˆ˜ Jâ»Â¹ â‰¡ id) (Jâ»Â¹ âˆ˜ J â‰¡ id)
âŠ¦
(X â¨¯ (J âˆ˜ I, Iâ»Â¹ âˆ˜ Jâ»Â¹, *, *)) â‰¡ (X â¨¯ J, X â¨¯ Jâ»Â¹, *, *) âˆ˜ (X â¨¯ I, X â¨¯ Iâ»Â¹, *, *) : (X â¨¯ A) â‰… (X â¨¯ C)
//
(X A B C)
(I : A â†’ B) (Iâ»Â¹ : B â†’ A) (I âˆ˜ Iâ»Â¹ â‰¡ id) (Iâ»Â¹ âˆ˜ I â‰¡ id)
(J : B â†’ C) (Jâ»Â¹ : C â†’ B) (J âˆ˜ Jâ»Â¹ â‰¡ id) (Jâ»Â¹ âˆ˜ J â‰¡ id)
âŠ¦
(X â¨¯ (J âˆ˜ I), X â¨¯ (Iâ»Â¹ âˆ˜ Jâ»Â¹), *, *) â‰¡ (X â¨¯ J, X â¨¯ Jâ»Â¹, *, *) âˆ˜ (X â¨¯ I, X â¨¯ Iâ»Â¹, *, *) : (X â¨¯ A) â‰… (X â¨¯ C)
//
(X A B C)
(I : A â†’ B) (Iâ»Â¹ : B â†’ A) (I âˆ˜ Iâ»Â¹ â‰¡ id) (Iâ»Â¹ âˆ˜ I â‰¡ id)
(J : B â†’ C) (Jâ»Â¹ : C â†’ B) (J âˆ˜ Jâ»Â¹ â‰¡ id) (Jâ»Â¹ âˆ˜ J â‰¡ id)
âŠ¦
(X â¨¯ (J âˆ˜ I), X â¨¯ (Iâ»Â¹ âˆ˜ Jâ»Â¹), *, *) â‰¡ ((X â¨¯ J) âˆ˜ (X â¨¯ I), (X â¨¯ Iâ»Â¹) âˆ˜ (X â¨¯ Jâ»Â¹), *, *) : (X â¨¯ A) â‰… (X â¨¯ C)
//
(X A B C)
(I : A â†’ B) (Iâ»Â¹ : B â†’ A) (I âˆ˜ Iâ»Â¹ â‰¡ id) (Iâ»Â¹ âˆ˜ I â‰¡ id)
(J : B â†’ C) (Jâ»Â¹ : C â†’ B) (J âˆ˜ Jâ»Â¹ â‰¡ id) (Jâ»Â¹ âˆ˜ J â‰¡ id)
âŠ¦
(X â¨¯ (J âˆ˜ I), X â¨¯ (Iâ»Â¹ âˆ˜ Jâ»Â¹), *, *) â‰¡ (X â¨¯ (J âˆ˜ I), X â¨¯ Iâ»Â¹ âˆ˜ Jâ»Â¹, *, *) : (X â¨¯ A) â‰… (X â¨¯ C)
//By reflexivity âˆ

//Iso right-action is an endo-functor on ğ•Œ seen as groupoid

(A B : ğ•Œ) (propA : IsProp(A)) (propB : IsProp(B)) âŠ¦
  downgrade : (A â‰… B) â†’ (A â‡” B)
  downgrade (f, g, _, _) = (f, g)

(A B : ğ•Œ) (propA : IsProp(A)) (propB : IsProp(B)) âŠ¦
  upgrade : (A â‡” B) â†’ (A â‰… B)
  upgrade (f, g) = (f, g, H, G)
 where
  H : (y : B) â†’ f (g y) â‰¡ y âˆˆ B
  H y = propB (f (g y)) y

  G : (x : A) â†’ g (f x) â‰¡ x âˆˆ A
  G x = propA (f (g x)) x


(A B : ğ•Œ) (propA : IsProp(A)) (propB : IsProp(B)) âŠ¦
  propUniv : (A â‰… B) â‰… (A â‡” B)
  propUniv = (downgrade, upgrade, H, G)
 where
  (f : A â‡” B) âŠ¦
    H' : downgrade (upgrade f) â‰¡ f âˆˆ (A â‡” B)
    H' = iffIsProp(_, _, propA, propB))

  H : downgrade âˆ˜ upgrade â‰¡ id âˆˆ (A â‡” B) â†’ (A â‡” B)
  H = fun-ext H'

  //TODO:
  G : upgrade âˆ˜ downgrade â‰¡ id âˆˆ (A â‰… B) â†’ (A â‰… B)

singelton-contractibility : âˆ€ {A, t} â†’ ((x : A) â¨¯ (x â‰¡ t)) â‰… ğŸ™
singelton-contractibility = (const (), const (t, Refl), Refl, Refl)

curry : ((x : A) â†’ (y : B x) â†’ C x y) â‰… ((p : (x : A) â¨¯ B x) â†’ C p.Ï€â‚ p.Ï€â‚‚)
curry = (Ïˆ p â†¦ Ïˆ p.Ï€â‚ p.Ï€â‚‚, Ïˆ x y â†¦ Ïˆ (x, y), Refl, Refl)

swap : ((x y : A) â†’ P x y) â‰… ((y : A) â†’ (x : A) â†’ P x y)
swap = (Ïˆ y x â†¦ Ïˆ x y, Ïˆ x y â†¦ Ïˆ y x, Refl, Refl)
